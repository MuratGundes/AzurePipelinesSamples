parameters:
- name: 'repositoryUrl'
  type: string

- name: 'dotnet_core_version'
  type: string

- name: 'solution_path'
  type: string

- name: 'config'
  type: string
  
- name: 'nugetName'
  type: string

- name: 'nugetVersion'
  type: string

steps:
  - script: |
         dotnet add package $(nugetName) -v $(nugetVersion)

  - task: DotNetCoreCLI@2
    displayName: Restore Packages
    inputs:
      command: restore
      projects: $(solution_path)

  - task: DotNetCoreCLI@2
    displayName: Build
    inputs:
      command: build
      projects: $(solution_path)
      arguments: '--configuration $(config) --no-restore'
